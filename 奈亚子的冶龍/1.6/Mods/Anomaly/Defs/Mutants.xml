<?xml version="1.0" encoding="utf-8"?>
<Defs>
	<MutantDef ParentName="BaseMutantEntity">
		<defName>NY_DeathWalker</defName>
		<label>魃尸</label>
		<description>被禁忌的冶龍术法复苏的尸骸，拥有一定程度的智能，能够听从简单的命令与使用武器。</description>
		<workDisables Inherit="False">
			<li>AllWork</li>
		</workDisables>
		<hediff>NY_hediff_DeathWalker</hediff>
		<thinkTree>Ghoul</thinkTree>
		<namePrefix>魃尸 </namePrefix>
		<showJobReport>true</showJobReport>
		<woundColor>(0.3, 0.3, 0, 1)</woundColor>
		<useCorpseGraphics>true</useCorpseGraphics>
		<isConsideredCorpse>true</isConsideredCorpse>
		<deathOnDownedChance>0.25</deathOnDownedChance>
		<bloodSmearDef>Filth_DarkBloodSmear</bloodSmearDef>
		<bloodDef>Filth_DarkBlood</bloodDef>
		<canGainXP>false</canGainXP>
		<restoreLegs>true</restoreLegs>
		<removeAllInjuries>true</removeAllInjuries>
		<clearMutantStatusOnDeath>true</clearMutantStatusOnDeath>
		<thinkTreeConstant>GhoulConstant</thinkTreeConstant>
		<anomalyKnowledgeOffset>0</anomalyKnowledgeOffset>
		<knowledgeCategory>Basic</knowledgeCategory>
		<codexEntry>Shambler</codexEntry>
		<whitelistedFloatMenuProviders>
			<li>FloatMenuOptionProvider_DraftedAttack</li>
			<li>FloatMenuOptionProvider_DraftedMove</li>
			<li>FloatMenuOptionProvider_EnterMapPortal</li>
			<li>FloatMenuOptionProvider_DropEquipment</li>
			<li>FloatMenuOptionProvider_Equip</li>
			<li>FloatMenuOptionProvider_Wear</li>
		</whitelistedFloatMenuProviders>
		<!-- Sounds -->
		<soundAttackChance>0.25</soundAttackChance>
		<soundCall>Pawn_Shambler_Call</soundCall>
		<soundAttack>Pawn_Shambler_Attack</soundAttack>
		<soundWounded>Pawn_Shambler_Wounded</soundWounded>
		<soundDeath>Pawn_Shambler_Killed</soundDeath>
		<!-- Rendering -->
		<renderNodeProperties>
			<li Class="PawnRenderNodeProperties_Overlay">
				<debugLabel>Shambler wounds</debugLabel>
				<workerClass>PawnRenderNodeWorker_OverlayShambler</workerClass>
				<overlayLayer>Body</overlayLayer>
				<baseLayer>20</baseLayer>
				<pawnType>HumanlikeOnly</pawnType>
			</li>
			<li>
				<debugLabel>Shambler wounds</debugLabel>
				<nodeClass>PawnRenderNode_AnimalPart</nodeClass>
				<workerClass>PawnRenderNodeWorker_OverlayShambler</workerClass>
				<overlayLayer>Body</overlayLayer>
				<baseLayer>20</baseLayer>
				<pawnType>NonHumanlikeOnly</pawnType>
			</li>
		</renderNodeProperties>

		<tools>
		</tools>
	</MutantDef>

	<HediffDef ParentName="NY_HediffBase">
		<defName>NY_hediff_DeathWalker</defName>
		<label>魃尸</label>
		<description>被禁忌的冶龍术法复苏的尸骸，拥有一定程度的智能，能够听从简单的命令与使用武器。</description>
		<hediffClass>SmeltedLoong.Hediff_DeathWalker</hediffClass>
		<priceOffset>-800</priceOffset>
		<stages>
			<li>
				<painFactor>0</painFactor>
				<naturalHealingFactor>0</naturalHealingFactor>
				<blocksMentalBreaks>true</blocksMentalBreaks>
				<statFactors>
					<ArmorRating_Heat>0.5</ArmorRating_Heat>
					<PsychicSensitivity>0</PsychicSensitivity>
					<MeleeCooldownFactor>1.5</MeleeCooldownFactor>
					<RangedCooldownFactor>1.5</RangedCooldownFactor>
				</statFactors>
				<statOffsets>
					<ComfyTemperatureMin>-50</ComfyTemperatureMin>
					<ComfyTemperatureMax>50</ComfyTemperatureMax>
					<MinimumContainmentStrength>35</MinimumContainmentStrength>
					<ToxicResistance>1</ToxicResistance>
				</statOffsets>
				<capMods>
					<li>
						<capacity>Talking</capacity>
						<postFactor>0</postFactor>
					</li>
					<li>
						<capacity>Hearing</capacity>
						<postFactor>0</postFactor>
					</li>
					<li>
						<capacity>Consciousness</capacity>
						<postFactor>0.8</postFactor>
					</li>
				</capMods>
			</li>
		</stages>
		<comps>
			<li Class="HediffCompProperties_DisappearsOnDeath" />
			<li Class="HediffCompProperties_AttachPoints" />
		</comps>
	</HediffDef>

	<HediffDef ParentName="NY_HediffBase">
		<defName>NY_hediff_CorpseSymbol</defName>
		<label>驭尸符</label>
		<description>为魃尸注入驭尸术法的符咒，能使魃尸更加迅捷强壮并且只要颅脑尚存便能继续活动，符咒本身并不耐火，被破坏后强化魃尸的术法也将随之消失。</description>
		<defaultLabelColor>(1,0.8,0)</defaultLabelColor>
		<keepOnBodyPartRestoration>false</keepOnBodyPartRestoration>
		<preventsDeath>true</preventsDeath>
		<stages>
			<li>
				<statFactors>
					<MeleeCooldownFactor>0.5</MeleeCooldownFactor>
					<RangedCooldownFactor>0.5</RangedCooldownFactor>
					<StaggerDurationFactor>0</StaggerDurationFactor>
					<IncomingDamageFactor>0.75</IncomingDamageFactor>
				</statFactors>
				<capMods>
					<li>
						<capacity>Consciousness</capacity>
						<offset>0.5</offset>
					</li>
					<li>
						<capacity>Moving</capacity>
						<offset>0.5</offset>
					</li>
				</capMods>
			</li>
		</stages>
		<comps>
			<li Class="SmeltedLoong.HCP_HurtConsume">
				<killByFire>true</killByFire>
			</li>
		</comps>
		<renderNodeProperties>
			<li>
				<workerClass>PawnRenderNodeWorker_AttachmentBody</workerClass>
				<texPath>Things/Pawn/HeadAttachments/NY_FastSymbol/NY_FastSymbol</texPath>
				<pawnType>HumanlikeOnly</pawnType>
				<parentTagDef>Head</parentTagDef>
				<visibleFacing>
					<li>East</li>
					<li>West</li>
					<li>South</li>
				</visibleFacing>
				<drawData>
					<defaultData>
						<layer>60</layer>
					</defaultData>
				</drawData>
			</li>
		</renderNodeProperties>
	</HediffDef>
</Defs>