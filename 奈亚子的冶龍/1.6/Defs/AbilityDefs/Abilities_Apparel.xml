<?xml version="1.0" encoding="utf-8" ?>
<Defs>
	<AbilityDef ParentName="NY_AI_AbilityBase">
		<defName>NY_ability_InvisibleOwl</defName>
		<label>鸮隐于林</label>
		<description>催动玄鸟卫术法在短时间内隐去身形并显著强化射术。</description>
		<iconPath>UI/Abilities/NY_InvisibleOwl</iconPath>
		<cooldownTicksRange>60000</cooldownTicksRange>
		<displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
		<statBases>
			<Ability_Duration>15</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0.5</warmupTime>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>NY_hediff_InvisibleOwl</hediffDef>
				<onlyApplyToSelf>True</onlyApplyToSelf>
				<replaceExisting>true</replaceExisting>
			</li>
		</comps>
	</AbilityDef>

	<EffecterDef>
		<defName>NY_effecter_InvisibleOwl</defName>
		<children>
			<li>
				<subEffecterClass>SubEffecter_SprayerChance</subEffecterClass>
				<fleckDef>NY_InvisibleOwl</fleckDef>
				<burstCount>1</burstCount>
				<chancePeriodTicks>120</chancePeriodTicks>
				<chancePerTick>1</chancePerTick>
				<rotation>-150~150</rotation>
				<rotationRate>0</rotationRate>
				<positionRadius>0.04</positionRadius>
				<positionOffset>(0, 0, -0.15)</positionOffset>
				<useTargetABodyAngle>true</useTargetABodyAngle>
				<scale>0.25~0.4</scale>
				<color>(1, 1, 1)</color>
				<fleckUsesAngleForVelocity>false</fleckUsesAngleForVelocity>
				<spawnLocType>OnSource</spawnLocType>
			</li>
		</children>
	</EffecterDef>

	<FleckDef ParentName="FleckBase_Thrown">
		<defName>NY_InvisibleOwl</defName>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<fadeInTime>0.1</fadeInTime>
		<solidTime>1</solidTime>
		<fadeOutTime>0.1</fadeOutTime>
		<growthRate>0</growthRate>
		<useAttachLink>True</useAttachLink>
		<attachedToHead>True</attachedToHead>
		<graphicData>
			<texPath>Things/Mote/NY_LoongGlow</texPath>
			<graphicClass>Graphic_Fleck</graphicClass>
			<shaderType>MoteGlow</shaderType>
			<shaderParameters>
				<_Color2>(1, 0.3, 0.3, 0.5)</_Color2>
				<_Interval>0.1</_Interval>
			</shaderParameters>
			<drawSize>(3, 3)</drawSize>
		</graphicData>
	</FleckDef>

	<AbilityDef ParentName="NY_AI_AbilityBase">
		<defName>NY_ability_SmokeGyrfalcon</defName>
		<label>烟披鹘袭</label>
		<description>催动玄鸟卫术法在短时间内强化行动能力，并操控微尘披身，微尘在受到冲击时将爆散化为烟幕。</description>
		<iconPath>UI/Abilities/NY_SmokeGyrfalcon</iconPath>
		<cooldownTicksRange>60000</cooldownTicksRange>
		<displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
		<statBases>
			<Ability_Duration>30</Ability_Duration>
		</statBases>
		<verbProperties>
			<warmupTime>0.5</warmupTime>
		</verbProperties>
		<comps>
			<li Class="CompProperties_AbilityGiveHediff">
				<compClass>CompAbilityEffect_GiveHediff</compClass>
				<hediffDef>NY_hediff_SmokeGyrfalcon</hediffDef>
				<onlyApplyToSelf>True</onlyApplyToSelf>
				<replaceExisting>true</replaceExisting>
			</li>
		</comps>
	</AbilityDef>

	<ThingDef ParentName="MoteBase">
		<defName>NY_mote_DarkGhost</defName>
		<thingClass>MoteAttached</thingClass>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<mote>
			<fadeInTime>1</fadeInTime>
			<solidTime>0</solidTime>
			<fadeOutTime>1</fadeOutTime>
		</mote>
		<graphicData>
			<graphicClass>Graphic_PawnBodySilhouette</graphicClass>
			<color>(0.3, 0.3, 0.3, 0.4)</color>
			<shaderType>MotePawnBodyColor</shaderType>
			<texPath>Things/Mote/Transparent</texPath>
		</graphicData>
	</ThingDef>

	<EffecterDef>
		<defName>NY_effect_DarkGhost</defName>
		<children>
			<li>
				<subEffecterClass>SubEffecter_SprayerContinuous</subEffecterClass>
				<ticksBetweenMotes>200</ticksBetweenMotes>
				<moteDef>NY_mote_DarkGhost</moteDef>
				<rotation>0~0</rotation>
				<absoluteAngle>true</absoluteAngle>
				<attachToSpawnThing>true</attachToSpawnThing>
				<spawnLocType>OnSource</spawnLocType>
			</li>
		</children>
	</EffecterDef>

	<AbilityDef ParentName="LongJump">
		<defName>NY_ability_PeregrineLeap</defName>
		<label>掠空隼击</label>
		<description>催动玄鸟卫术法腾空，展开羽翼进行短距离的飞跃。</description>
		<iconPath>UI/Abilities/NY_Empty</iconPath>
		<aiCanUse>true</aiCanUse>
		<cooldownTicksRange>1250</cooldownTicksRange>
		<displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
		<verbProperties>
			<soundLanding>JumpMechLand</soundLanding>
			<flyWithCarriedThing>true</flyWithCarriedThing>
			<warmupEffecter>JumpMechWarmupEffect</warmupEffecter>
		</verbProperties>
		<comps Inherit="false">
			<li Class="SmeltedLoong.ACP_TargetForAI" />
		</comps>
	</AbilityDef>

	<AbilityDef ParentName="AbilityTouchBase">
		<defName>NY_ability_LoongGeneEditing</defName>
		<label>改脉化龙</label>
		<description>消耗异种胚芽将其中的基因加入现有的异种基因序列或从系谱基因序列中去除对应基因。</description>
		<iconPath>UI/Gizmos/ImplantGenes</iconPath>
		<warmupEffecter>Implant_Xenogerm</warmupEffecter>
		<warmupStartSound>ReimplantXenogerm_Cast</warmupStartSound>
		<displayGizmoWhileUndrafted>false</displayGizmoWhileUndrafted>
		<disableGizmoWhileUndrafted>false</disableGizmoWhileUndrafted>
		<casterMustBeCapableOfViolence>false</casterMustBeCapableOfViolence>
		<cooldownTicksRange>5000</cooldownTicksRange>
		<verbProperties>
			<verbClass>Verb_CastAbilityTouch</verbClass>
			<drawAimPie>false</drawAimPie>
			<range>-1</range>
			<warmupTime>4</warmupTime>
			<targetParams>
				<thingCategory>Item</thingCategory>
				<canTargetItems>true</canTargetItems>
				<canTargetPawns>false</canTargetPawns>
				<canTargetBuildings>false</canTargetBuildings>
				<mapObjectTargetsMustBeAutoAttackable>false</mapObjectTargetsMustBeAutoAttackable>
			</targetParams>
		</verbProperties>
		<comps>
			<li Class="SmeltedLoong.ACP_GeneEditing" />
		</comps>
	</AbilityDef>
</Defs>